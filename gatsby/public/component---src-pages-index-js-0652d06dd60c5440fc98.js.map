{"version":3,"sources":["webpack:///./src/styles/Grids.js","webpack:///./src/components/LoadingGrid.js","webpack:///./src/components/ItemGrid.js","webpack:///./src/utils/useLatestData.js","webpack:///./src/pages/index.js"],"names":["HomePageGrid","styled","div","ItemsGrid","ItemStyles","LoadingGrid","count","Array","from","length","_","i","className","src","alt","width","height","ItemGrid","items","map","item","name","image","asset","url","style","background","metadata","lqip","backgroundSize","gql","String","raw","deets","CurrentlySlicing","slicemasters","console","log","HotSlices","hotSlices","HomePage","useState","setHotSlices","setSlicemasters","useEffect","fetch","process","method","headers","body","JSON","stringify","query","then","res","json","data","StoreSettings","hotslices","slicemaster","catch","err","useLatestData"],"mappings":"+KAEaA,EAAeC,IAAOC,IAAV,0EAAGD,CAAH,kFAMZE,EAAYF,IAAOC,IAAV,uEAAGD,CAAH,+DAMTG,EAAaH,IAAOC,IAAV,wEAAGD,CAAH,4dCXR,SAASI,EAAT,GAAiC,IAAVC,EAAS,EAATA,MACpC,OACE,kBAACH,EAAD,KACGI,MAAMC,KAAK,CAAEC,OAAQH,IAAS,SAACI,EAAGC,GAAJ,OAC7B,kBAACP,EAAD,KACE,2BACE,0BAAMQ,UAAU,QAAhB,eAEF,yBACEC,IAAI,yuCACJC,IAAI,UACJF,UAAU,UACVG,MAAM,MACNC,OAAO,aCbJ,SAASC,EAAT,GAA8B,IAAVC,EAAS,EAATA,MACjC,OACE,kBAACf,EAAD,KACGe,EAAMC,KAAI,SAACC,GAAD,OACT,kBAAChB,EAAD,KACE,2BACE,0BAAMQ,UAAU,QAAQQ,EAAKC,OAE/B,yBACEN,MAAM,MACNC,OAAO,MACPH,IAAQO,EAAKE,MAAMC,MAAMC,IAAtB,wBACHV,IAAKM,EAAKC,KACVI,MAAO,CACLC,WAAW,OAAQN,EAAKE,MAAMC,MAAMI,SAASC,KAAnC,IACVC,eAAgB,gB,mhBChB9B,IAAMC,EAAMC,OAAOC,IAEbC,EAAQH,EAAH,KCEX,SAASI,EAAT,GAA6C,IAAjBC,EAAgB,EAAhBA,aAE1B,OADAC,QAAQC,IAAIF,GAEV,6BACE,4BACE,0BAAMvB,UAAU,aAAhB,wBAEF,uDACEuB,GAAgB,kBAAC9B,EAAD,CAAaC,MAAO,IACrC6B,KAAiBA,aAAD,EAACA,EAAc1B,SAC9B,0DAED0B,aAAA,EAAAA,EAAc1B,SAAU,kBAACQ,EAAD,CAAUC,MAAOiB,KAKhD,SAASG,EAAT,GAAmC,IAAdC,EAAa,EAAbA,UACnB,OACE,6BACE,4BACE,0BAAM3B,UAAU,aAAhB,yBAEF,wDACE2B,GAAa,kBAAClC,EAAD,CAAaC,MAAO,IAClCiC,KAAcA,aAAD,EAACA,EAAW9B,SAAU,oDACnC8B,aAAA,EAAAA,EAAW9B,SAAU,kBAACQ,EAAD,CAAUC,MAAOqB,KAK9B,SAASC,IAAY,IAAD,EDpB5B,WAA0B,IAAD,EACIC,qBAA3BF,EADuB,KACZG,EADY,OAEUD,qBAAjCN,EAFuB,KAETQ,EAFS,KAoC9B,OAhCAC,qBAAU,WACRC,MAAMC,+DAAqC,CACzCC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBC,MAAOtB,EAAF,IAKKG,EAGAA,OAOXoB,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACC,GACLZ,EAAaY,EAAIE,KAAKC,cAAcC,WACpCf,EAAgBW,EAAIE,KAAKC,cAAcE,gBAExCC,OAAM,SAACC,GACNzB,QAAQC,IAAI,YACZD,QAAQC,IAAIwB,QAEf,IACI,CACL1B,eACAI,aCjBkCuB,GAA5B3B,EADyB,EACzBA,aAAcI,EADW,EACXA,UACtB,OACE,yBAAK3B,UAAU,UACb,2DACA,mDACA,kBAACZ,EAAD,KACE,kBAACkC,EAAD,CAAkBC,aAAcA,IAChC,kBAACG,EAAD,CAAWC,UAAWA","file":"component---src-pages-index-js-0652d06dd60c5440fc98.js","sourcesContent":["import styled from 'styled-components';\n\nexport const HomePageGrid = styled.div`\n  display: grid;\n  grid-gap: 2rem;\n  grid-template-columns: repeat(2, minmax(auto, 1fr));\n`;\n\nexport const ItemsGrid = styled.div`\n  display: grid;\n  grid-gap: 2rem;\n  grid-template-columns: 1fr 1fr;\n`;\n\nexport const ItemStyles = styled.div`\n  text-align: center;\n  position: relative;\n  img {\n    border: 1px solid red;\n    height: auto;\n  }\n  p {\n    transform: rotate(-2deg) translateY(-140%);\n    position: absolute;\n    width: 100%;\n    left: 0;\n  }\n  .mark {\n    display: inline;\n  }\n  @keyframes shine {\n    from {\n      background-position: 200%;\n    }\n    to {\n      background-position: -40px;\n    }\n  }\n  img.loading {\n    --shine: white;\n    --background: var(--grey);\n    background-image: linear-gradient(\n      90deg,\n      var(--background) 0px,\n      var(--shine) 40px,\n      var(--background) 80px\n    );\n    background-size: 500px;\n    animation: shine 1s infinite linear;\n  }\n`;\n","import React from 'react';\nimport { ItemsGrid, ItemStyles } from '../styles/Grids';\n\nexport default function LoadingGrid({ count }) {\n  return (\n    <ItemsGrid>\n      {Array.from({ length: count }, (_, i) => (\n        <ItemStyles>\n          <p>\n            <span className=\"mark\">Loading...</span>\n          </p>\n          <img\n            src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAGQCAQAAADyulpNAAADYklEQVR42u3TMQ0AAAzDsJU/6d2lUNkQIiUHzIsEYHTA6IDRAaMDRgeMDhgdMDoYHTA6YHTA6IDRAaMDRgeMDkYHjA4YHTA6YHTA6IDRAaOD0QGjA0YHjA4YHTA6YHTA6IDRweiA0QGjA0YHjA4YHTA6YHQwOmB0wOiA0QGjA0YHjA4YHYwOGB0wOmB0wOiA0QGjA0YHjA5GB4wOGB0wOmB0wOiA0QGjg9EBowNGB4wOGB0wOmB0wOhgdMDogNEBowNGB4wOGB0wOmB0MDpgdMDogNEBowNGB4wOGB2MDhgdMDpgdMDogNEBowNGB6MDRgeMDhgdMDpgdMDogNEBo4PRAaMDRgeMDhgdMDpgdMDoYHTA6IDRAaMDRgeMDhgdMDoYHTA6YHTA6IDRAaMDRgeMDhgdjA4YHTA6YHTA6IDRAaMDRgejA0YHjA4YHTA6YHTA6IDRweiA0QGjA0YHjA4YHTA6YHTA6GB0wOiA0QGjA0YHjA4YHTA6GB0wOmB0wOiA0QGjA0YHjA5GB4wOGB0wOmB0wOiA0QGjA0YHowNGB4wOGB0wOmB0wOiA0cHogNEBowNGB4wOGB0wOmB0MDpgdMDogNEBowNGB4wOGB0wOhgdMDpgdMDogNEBowNGB4wORgeMDhgdMDpgdMDogNEBo4PRAaMDRgeMDhgdMDpgdMDogNHB6IDRAaMDRgeMDhgdMDpgdDA6YHTA6IDRAaMDRgeMDhgdjA4YHTA6YHTA6IDRAaMDRgejSwBGB4wOGB0wOmB0wOiA0QGjg9EBowNGB4wOGB0wOmB0wOhgdMDogNEBowNGB4wOGB0wOhgdMDpgdMDogNEBowNGB4wOGB2MDhgdMDpgdMDogNEBowNGB6MDRgeMDhgdMDpgdMDogNHB6IDRAaMDRgeMDhgdMDpgdMDoYHTA6IDRAaMDRgeMDhgdMDoYHTA6YHTA6IDRAaMDRgeMDkYHjA4YHTA6YHTA6IDRAaMDRgejA0YHjA4YHTA6YHTA6IDRweiA0QGjA0YHjA4YHTA6YHQwOmB0wOiA0QGjA0YHjA4YHTA6GB0wOmB0wOiA0QGjA0YHjA5GB4wOGB0wOmB0wOiA0QGjg9EBowNGB4wOGB0wOmB0wOiA0cHogNEBowNGB4wOGB0wOtAeXrkBkXN/Gr8AAAAASUVORK5CYII=\"\n            alt=\"Loading\"\n            className=\"loading\"\n            width=\"500\"\n            height=\"400\"\n          />\n        </ItemStyles>\n      ))}\n    </ItemsGrid>\n  );\n}\n","import React from 'react';\nimport { ItemsGrid, ItemStyles } from '../styles/Grids';\n\nexport default function ItemGrid({ items }) {\n  return (\n    <ItemsGrid>\n      {items.map((item) => (\n        <ItemStyles>\n          <p>\n            <span className=\"mark\">{item.name}</span>\n          </p>\n          <img\n            width=\"500\"\n            height=\"400\"\n            src={`${item.image.asset.url}?w=500&h=400&fit=crop`}\n            alt={item.name}\n            style={{\n              background: `url(${item.image.asset.metadata.lqip})`,\n              backgroundSize: 'cover',\n            }}\n          />\n        </ItemStyles>\n      ))}\n    </ItemsGrid>\n  );\n}\n","import { useState, useEffect } from 'react';\n\nconst gql = String.raw;\n\nconst deets = gql`\n  name\n    _id\n    image {\n      asset {\n        url\n        metadata {\n          lqip\n        }\n      }\n    }\n`;\n\nexport function useLatestData() {\n  const [hotSlices, setHotSlices] = useState();\n  const [slicemasters, setSlicemasters] = useState();\n\n  useEffect(function() {\n    fetch(process.env.GATSBY_GRAPHQL_ENDPOINT, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        query: gql`\n          query {\n            StoreSettings(id: \"downtown\") {\n              name\n              slicemaster {\n                ${deets}\n              }\n              hotslices {\n                ${deets}\n              }\n            }\n          }\n        `,\n      }),\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        setHotSlices(res.data.StoreSettings.hotslices);\n        setSlicemasters(res.data.StoreSettings.slicemaster);\n      })\n      .catch((err) => {\n        console.log('Shooots!');\n        console.log(err);\n      });\n  }, []);\n  return {\n    slicemasters,\n    hotSlices,\n  };\n}\n","import React from 'react';\nimport LoadingGrid from '../components/LoadingGrid';\nimport ItemGrid from '../components/ItemGrid';\nimport { HomePageGrid } from '../styles/Grids';\nimport { useLatestData } from '../utils/useLatestData';\n\nfunction CurrentlySlicing({ slicemasters }) {\n  console.log(slicemasters);\n  return (\n    <div>\n      <h2>\n        <span className=\"mark tilt\">Masters on the Ooni</span>\n      </h2>\n      <p>Your Peeps Making Pizza</p>\n      {!slicemasters && <LoadingGrid count={4} />}\n      {slicemasters && !slicemasters?.length && (\n        <p>No ones slicing right now!</p>\n      )}\n      {slicemasters?.length && <ItemGrid items={slicemasters} />}\n    </div>\n  );\n}\n\nfunction HotSlices({ hotSlices }) {\n  return (\n    <div>\n      <h2>\n        <span className=\"mark tilt\">Pizza's in the case!</span>\n      </h2>\n      <p>Hot Pizza Ready to Slice</p>\n      {!hotSlices && <LoadingGrid count={4} />}\n      {hotSlices && !hotSlices?.length && <p>Nothin' in the case!</p>}\n      {hotSlices?.length && <ItemGrid items={hotSlices} />}\n    </div>\n  );\n}\n\nexport default function HomePage() {\n  const { slicemasters, hotSlices } = useLatestData();\n  return (\n    <div className=\"center\">\n      <h1>The Best Dough In Deh World</h1>\n      <p>Open 24 Hours a Day!</p>\n      <HomePageGrid>\n        <CurrentlySlicing slicemasters={slicemasters} />\n        <HotSlices hotSlices={hotSlices} />\n      </HomePageGrid>\n    </div>\n  );\n}\n"],"sourceRoot":""}